<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Make the cohortData table, while modifying the temporary pixelCohortData that will be used to prepare other files. — makeCohortDataFiles • LandR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Make the cohortData table, while modifying the temporary pixelCohortData that will be used to prepare other files. — makeCohortDataFiles"><meta property="og:description" content="Takes a pixelCohortData table (see makeAndCleanInitialCohortData),
the speciesEcoregion list and returns a modified pixelCohortData and
the cohortData tables to be used in the simulation.
This function mainly removes unnecessary columns from pixelCohortData,
subsets pixels with biomass &amp;gt; 0, generates pixelGroups,
and adds ecoregionGroup and totalBiomass columns to pixelCohortData.
cohortData is then created by subsetting unique combinations of pixelGroup and
whatever columns are listed in columnsForPixelGroups.
The resulting cohortData table has the following columns:
speciesCode (factor)
ecoregionGroup (factor)
pixelGroup (integer)
age (integer)
B (integer)

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LandR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/LandR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make the <code>cohortData</code> table, while modifying the temporary <code>pixelCohortData</code> that will be used to prepare other files.</h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/LandR/blob/HEAD/R/cohorts.R" class="external-link"><code>R/cohorts.R</code></a></small>
    <div class="hidden name"><code>makeCohortDataFiles.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a <code>pixelCohortData</code> table (see <code>makeAndCleanInitialCohortData</code>),
the <code>speciesEcoregion</code> list and returns a modified <code>pixelCohortData</code> and
the <code>cohortData</code> tables to be used in the simulation.
This function mainly removes unnecessary columns from <code>pixelCohortData</code>,
subsets pixels with <code>biomass &gt; 0</code>, generates <code>pixelGroups</code>,
and adds <code>ecoregionGroup</code> and <code>totalBiomass</code> columns to <code>pixelCohortData</code>.
<code>cohortData</code> is then created by subsetting unique combinations of <code>pixelGroup</code> and
whatever columns are listed in <code>columnsForPixelGroups</code>.
The resulting <code>cohortData</code> table has the following columns:</p><ul><li><p><code>speciesCode</code> (factor)</p></li>
<li><p><code>ecoregionGroup</code> (factor)</p></li>
<li><p><code>pixelGroup</code> (integer)</p></li>
<li><p><code>age</code> (integer)</p></li>
<li><p><code>B</code> (integer)</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeCohortDataFiles</span><span class="op">(</span></span>
<span>  <span class="va">pixelCohortData</span>,</span>
<span>  <span class="va">columnsForPixelGroups</span>,</span>
<span>  <span class="va">speciesEcoregion</span>,</span>
<span>  <span class="va">pixelGroupBiomassClass</span>,</span>
<span>  <span class="va">pixelGroupAgeClass</span>,</span>
<span>  minAgeForGrouping <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  rmImputedPix <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">imputedPixID</span>,</span>
<span>  <span class="va">pixelFateDT</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>pixelCohortData</dt>
<dd><p>The full <code>cohortData</code> <code>data.table</code></p></dd>


<dt>columnsForPixelGroups</dt>
<dd><p>Default columns that define pixel groups</p></dd>


<dt>speciesEcoregion</dt>
<dd><p>A <code>data.table</code> with <code>species</code>-<code>ecoregion</code>-specific species trait values.
Ecoregion refers to "ecolocation", a categorical variable grouping sites with similar biophysical
characteristics. The table should have at least the following columns: <code>speciesCode</code> and
<code>ecoregionGroup</code>, character representation of species and ecoregion groups respectively,
<code>maxB</code> the maximum biomass for the species in a given 'ecoregion', <code>maxANPP</code> the maximum
aboveground net primary productivity and <code>SEP</code> the species establishment probability.
May contain columns <code>inflationFactor</code>  (used to adjust <code>maxB</code>) and <code>mANPPproportion</code>
(used to calculate <code>maxANPP</code>).</p></dd>


<dt>pixelGroupBiomassClass</dt>
<dd><p>Integer. When assigning <code>pixelGroup</code> membership, this defines
the resolution of biomass that will be considered 'the same <code>pixelGroup</code>', e.g., if it is
100, then 5160 and 5240 will be the same</p></dd>


<dt>pixelGroupAgeClass</dt>
<dd><p>Integer. When assigning <code>pixelGroup</code> membership, this defines the
resolution of ages that will be considered 'the same <code>pixelGroup</code>', e.g., if it is 10,
then 6 and 14 will be the same.</p></dd>


<dt>minAgeForGrouping</dt>
<dd><p>Minimum age for regrouping. This may be because there is a source of
ages for young stands/trees that is very reliable, such as a fire database.
Ages below this will not be grouped together. Defaults to -1, meaning treat all ages equally.
If this is related to known ages from a high quality database, then use age of the oldest
trees in that database.</p></dd>


<dt>rmImputedPix</dt>
<dd><p>Should imputed pixels be removed</p></dd>


<dt>imputedPixID</dt>
<dd><p>a vector of IDs of pixels that suffered data imputation.</p></dd>


<dt>pixelFateDT</dt>
<dd><p>A <code>data.table</code> of <code>pixelFateDT</code>; if none provided, will make an empty one.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with a modified <code>pixelCohortData</code>, <code>cohortData</code>, and <code>pixelFateDT</code></p>


<p><code>data.table</code>s.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eliot J B McIntire, Alex M Chubaty, Ceres Barros, Ian M S Eddy.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

